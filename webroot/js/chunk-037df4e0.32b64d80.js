(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-037df4e0"],{"0b42":function(t,a,e){var n=e("da84"),r=e("e8b5"),s=e("68ee"),i=e("861d"),o=e("b622"),c=o("species"),l=n.Array;t.exports=function(t){var a;return r(t)&&(a=t.constructor,s(a)&&(a===l||r(a.prototype))?a=void 0:i(a)&&(a=a[c],null===a&&(a=void 0))),void 0===a?l:a}},"1dde":function(t,a,e){var n=e("d039"),r=e("b622"),s=e("2d00"),i=r("species");t.exports=function(t){return s>=51||!n((function(){var a=[],e=a.constructor={};return e[i]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},"625c":function(t,a,e){},"65f0":function(t,a,e){var n=e("0b42");t.exports=function(t,a){return new(n(t))(0===a?0:a)}},"7bb2":function(t,a,e){"use strict";e("625c")},8418:function(t,a,e){"use strict";var n=e("a04b"),r=e("9bf2"),s=e("5c6c");t.exports=function(t,a,e){var i=n(a);i in t?r.f(t,i,s(0,e)):t[i]=e}},"99af":function(t,a,e){"use strict";var n=e("23e7"),r=e("da84"),s=e("d039"),i=e("e8b5"),o=e("861d"),c=e("7b0b"),l=e("07fa"),u=e("8418"),d=e("65f0"),f=e("1dde"),p=e("b622"),v=e("2d00"),g=p("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",m=r.TypeError,C=v>=51||!s((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),_=f("concat"),y=function(t){if(!o(t))return!1;var a=t[g];return void 0!==a?!!a:i(t)},k=!C||!_;n({target:"Array",proto:!0,forced:k},{concat:function(t){var a,e,n,r,s,i=c(this),o=d(i,0),f=0;for(a=-1,n=arguments.length;a<n;a++)if(s=-1===a?i:arguments[a],y(s)){if(r=l(s),f+r>b)throw m(h);for(e=0;e<r;e++,f++)e in s&&u(o,f,s[e])}else{if(f>=b)throw m(h);u(o,f++,s)}return o.length=f,o}})},a91b:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("div",{staticClass:"navbar-brand"},[t._v(t._s(t.store.state.userName))]),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/create_group"}},[t._v("创建群")])],1),e("div",{staticClass:"dropdown-divider"}),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/search_group"}},[t._v("搜索群")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/search_user"}},[t._v("搜索好友")])],1),e("div",{staticClass:"dropdown-divider"}),e("li",{staticClass:"nav-item"},[e("div",{staticClass:"nav-link",on:{click:t.logout}},[t._v("退出登录")])])])])]),e("div",{staticClass:"list-group list-group-flush"},t._l(t.list,(function(a){return e("div",{key:a.ID,staticClass:"list-group-item list-group-item-action",on:{click:function(e){return t.clickUser(a)}}},[e("div",{staticClass:"d-flex w-100 justify-content-between"},[e("h5",{staticClass:"mb-1"},[t._v(" "+t._s(a.Name)+" "),"friend"==a.type&&""==a.Path?e("small",[e("i",{staticClass:"bi bi-person-fill"})]):t._e(),"group"==a.type?e("small",[e("i",{staticClass:"bi bi-people-fill"})]):t._e()]),0!==a.Unread?e("span",{staticClass:"badge badge-secondary badge-right"},[t._v(t._s(a.Unread))]):t._e()]),e("div",{staticClass:"d-flex w-100 justify-content-between"},[e("p",{staticClass:"mb-1"},[t._v(t._s(a.LastChat))]),e("small",{staticClass:"text-muted"},[t._v(t._s(t.moment(a.LastChatAt)))])])])})),0)])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],s=(e("99af"),e("ac1f"),e("5319"),e("c0d6")),i=e("c1df"),o=e.n(i),c=[{Name:"世界频道",click:function(){s["a"].router.push("session_global")}}],l={name:"SessionList",data:function(){return{store:s["a"],list:c.concat([])}},created:function(){var t=this;this.loadData((function(){t.$nextTick((function(){this.chatListToEnd()}))})),s["a"].e.on("friends",(function(a){t.loadData()})),s["a"].e.on("group",(function(a){t.loadData()})),s["a"].e.on("system",(function(a){t.loadData()}))},methods:{loadData:function(t){var a=this;s["a"].http.get("/api/get_session").then((function(e){var n=e.data.data,r=[];for(var s in n.friends)if(Object.hasOwnProperty.call(n.friends,s)){var i=n.friends[s];i.Name=i.Target,i.type="friend",r.push(i)}for(var o in n.group)if(Object.hasOwnProperty.call(n.group,o)){var l=n.group[o];l.Name=l.Target,l.type="group",r.push(l)}a.list=c.concat(r),t&&t()}))},chatListToEnd:function(){var t=this.$el.querySelector(".list-group");t.scrollTop=t.scrollHeight},chatListIsEnd:function(){var t=this.$el.querySelector(".list-group"),a=t.clientHeight+t.scrollTop;return a==t.scrollHeight},clickUser:function(t){t.click?t.click():t.Path?this.$router.push(t.Path):"friend"==t.type?this.$router.push({name:"user_session",params:{username:t.Target}}):"group"==t.type&&this.$router.push({name:"group_session",params:{name:t.Target}})},moment:function(t){if(t)return o()(t).calendar()},add:function(t){console.log(1111,t),s["a"].http.post("/api/add_friends/"+t).then((function(t){console.log(t.data),alert(t.data.message)}))},logout:function(){localStorage.userName=localStorage.toKen="",s["a"].router.replace("/"),location.reload()}}},u=l,d=(e("7bb2"),e("2877")),f=Object(d["a"])(u,n,r,!1,null,"8a342d22",null);a["default"]=f.exports},e8b5:function(t,a,e){var n=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-037df4e0.32b64d80.js.map